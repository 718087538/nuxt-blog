<template>
  <div class="article-wrap w">
    <div class="article-detail">
      <h2 class="page-subject">技术分享</h2>
      <h3 class="article-title">本地环境搭建php7</h3>
      <div class="article-content">
        <p>
          应升级所需，在本地搭建php7环境，简单的安装在这里记录一下。
        </p>
        1、下载php7包
        <div style="font-size:14px;">
          <div id="highlighter_534221" class="syntaxhighlighter  "><div class="bar    "><div class="toolbar"><a href="#viewSource" title="查看代码" class="item viewSource" style="width: 16px; height: 16px;">查看代码</a><div class="item copyToClipboard"><embed width="16" height="16" id="highlighter_534221_clipboard" type="application/x-shockwave-flash" title="复制代码" allowscriptaccess="always" wmode="transparent" flashvars="highlighterId=highlighter_534221" menu="false" src="https://static.yezismile.com/syntaxhighlighter/scripts/clipboard.swf"></div><a href="#printSource" title="打印" class="item printSource" style="width: 16px; height: 16px;">打印</a><a href="#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="plain">wget -O php7.tar.gz http:</code><code class="comments">//cn2.php.net/get/php-7.0.0.30.tar.gz/from/this/mirror</code></td></tr></tbody></table></div></div></div>
          <a href="http://cn2.php.net/get/php-0.30.tar.gz/from/this/mirror"><span style="color:#003884;"></span></a>
        </div>
        2、下载完成，解压php7安装包
        <div id="highlighter_789633" class="syntaxhighlighter  "><div class="bar   "><div class="toolbar"><a href="#viewSource" title="查看代码" class="item viewSource" style="width: 16px; height: 16px;">查看代码</a><div class="item copyToClipboard"><embed width="16" height="16" id="highlighter_789633_clipboard" type="application/x-shockwave-flash" title="复制代码" allowscriptaccess="always" wmode="transparent" flashvars="highlighterId=highlighter_789633" menu="false" src="https://static.yezismile.com/syntaxhighlighter/scripts/clipboard.swf"></div><a href="#printSource" title="打印" class="item printSource" style="width: 16px; height: 16px;">打印</a><a href="#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="plain">tar -xvf php7.tar.gz</code></td></tr></tbody></table></div></div></div>
        3、安装php的依赖环境，已经安装无需再安装了
        <div id="highlighter_650235" class="syntaxhighlighter  "><div class="bar  "><div class="toolbar"><a href="#viewSource" title="查看代码" class="item viewSource" style="width: 16px; height: 16px;">查看代码</a><div class="item copyToClipboard"><embed width="16" height="16" id="highlighter_650235_clipboard" type="application/x-shockwave-flash" title="复制代码" allowscriptaccess="always" wmode="transparent" flashvars="highlighterId=highlighter_650235" menu="false" src="https://static.yezismile.com/syntaxhighlighter/scripts/clipboard.swf"></div><a href="#printSource" title="打印" class="item printSource" style="width: 16px; height: 16px;">打印</a><a href="#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="plain">yum install libxml2 libxml2-devel openssl openssl-devel bzip2 bzip2-devel libcurl libcurl-devel libjpeg libjpeg-devel libpng libpng-devel freetype freetype-devel gmp gmp-devel libmcrypt libmcrypt-devel readline readline-devel libxslt libxslt-devel</code></td></tr></tbody></table></div></div></div>
        4、解压完php7，切换到php7文件夹，执行配置文件
        <div id="highlighter_119944" class="syntaxhighlighter  "><div class="bar             "><div class="toolbar"><a href="#viewSource" title="查看代码" class="item viewSource" style="width: 16px; height: 16px;">查看代码</a><div class="item copyToClipboard"><embed width="16" height="16" id="highlighter_119944_clipboard" type="application/x-shockwave-flash" title="复制代码" allowscriptaccess="always" wmode="transparent" flashvars="highlighterId=highlighter_119944" menu="false" src="https://static.yezismile.com/syntaxhighlighter/scripts/clipboard.swf"></div><a href="#printSource" title="打印" class="item printSource" style="width: 16px; height: 16px;">打印</a><a href="#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>01</code></td><td class="content"><code class="plain">./configure \</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>02</code></td><td class="content"><code class="plain">--prefix=/opt/php7 \</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>03</code></td><td class="content"><code class="plain">--with-config-file-path=/opt/php7/lib \</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>04</code></td><td class="content"><code class="plain">--with-config-file-scan-dir= /opt/php7/lib/php.d \</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>05</code></td><td class="content"><code class="plain">--enable-fpm \</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>06</code></td><td class="content"><code class="plain">--with-fpm-user=nginx \</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>07</code></td><td class="content"><code class="plain">--with-fpm-group=nginx \</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>08</code></td><td class="content"><code class="plain">--enable-inline-optimization \</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>09</code></td><td class="content"><code class="plain">--disable-debug \</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>10</code></td><td class="content"><code class="plain">--disable-rpath \</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>11</code></td><td class="content"><code class="plain">--enable-shared \</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>12</code></td><td class="content"><code class="plain">--enable-soap \</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>13</code></td><td class="content"><code class="plain">--with-libxml-dir \</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>14</code></td><td class="content"><code class="plain">--with-xmlrpc \</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>15</code></td><td class="content"><code class="plain">--with-openssl \</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>16</code></td><td class="content"><code class="plain">--with-mcrypt \</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>17</code></td><td class="content"><code class="plain">--with-mhash \</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>18</code></td><td class="content"><code class="plain">--with-pcre-regex \</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>19</code></td><td class="content"><code class="plain">--with-sqlite3 \</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>20</code></td><td class="content"><code class="plain">--with-zlib \</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>21</code></td><td class="content"><code class="plain">--enable-bcmath \</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>22</code></td><td class="content"><code class="plain">--with-iconv \</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>23</code></td><td class="content"><code class="plain">--with-bz2 \</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>24</code></td><td class="content"><code class="plain">--enable-calendar \</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>25</code></td><td class="content"><code class="plain">--with-curl \</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>26</code></td><td class="content"><code class="plain">--with-cdb \</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>27</code></td><td class="content"><code class="plain">--enable-dom \</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>28</code></td><td class="content"><code class="plain">--enable-exif \</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>29</code></td><td class="content"><code class="plain">--enable-fileinfo \</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>30</code></td><td class="content"><code class="plain">--enable-filter \</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>31</code></td><td class="content"><code class="plain">--with-pcre-dir \</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>32</code></td><td class="content"><code class="plain">--enable-ftp \</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>33</code></td><td class="content"><code class="plain">--with-gd \</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>34</code></td><td class="content"><code class="plain">--with-openssl-dir \</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>35</code></td><td class="content"><code class="plain">--with-jpeg-dir=/opt/php7/php_extend/jpeg\</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>36</code></td><td class="content"><code class="plain">--with-png-dir=/opt/php7/php_extend/libpng \</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>37</code></td><td class="content"><code class="plain">--with-zlib-dir \</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>38</code></td><td class="content"><code class="plain">--with-freetype-dir \</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>39</code></td><td class="content"><code class="plain">--enable-gd-native-ttf \</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>40</code></td><td class="content"><code class="plain">--enable-gd-jis-conv \</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>41</code></td><td class="content"><code class="plain">--with-</code><code class="functions">gettext</code> <code class="plain">\</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>42</code></td><td class="content"><code class="plain">--with-gmp \</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>43</code></td><td class="content"><code class="plain">--with-mhash \</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>44</code></td><td class="content"><code class="plain">--enable-json \</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>45</code></td><td class="content"><code class="plain">--enable-mbstring \</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>46</code></td><td class="content"><code class="plain">--enable-mbregex \</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>47</code></td><td class="content"><code class="plain">--enable-mbregex-backtrack \</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>48</code></td><td class="content"><code class="plain">--with-libmbfl \</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>49</code></td><td class="content"><code class="plain">--with-onig \</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>50</code></td><td class="content"><code class="plain">--enable-pdo \</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>51</code></td><td class="content"><code class="plain">--with-mysqli=mysqlnd \</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>52</code></td><td class="content"><code class="plain">--with-pdo-mysql=mysqlnd \</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>53</code></td><td class="content"><code class="plain">--with-zlib-dir \</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>54</code></td><td class="content"><code class="plain">--with-pdo-sqlite \</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>55</code></td><td class="content"><code class="plain">--with-readline \</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>56</code></td><td class="content"><code class="plain">--enable-session \</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>57</code></td><td class="content"><code class="plain">--enable-shmop \</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>58</code></td><td class="content"><code class="plain">--enable-simplexml \</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>59</code></td><td class="content"><code class="plain">--enable-sockets \</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>60</code></td><td class="content"><code class="plain">--enable-sysvmsg \</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>61</code></td><td class="content"><code class="plain">--enable-sysvsem \</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>62</code></td><td class="content"><code class="plain">--enable-sysvshm \</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>63</code></td><td class="content"><code class="plain">--enable-wddx \</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>64</code></td><td class="content"><code class="plain">--with-libxml-dir \</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>65</code></td><td class="content"><code class="plain">--with-xsl \</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>66</code></td><td class="content"><code class="plain">--enable-zip \</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>67</code></td><td class="content"><code class="plain">--enable-mysqlnd-compression-support \</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>68</code></td><td class="content"><code class="plain">--with-pear \</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>69</code></td><td class="content"><code class="plain">--enable-opcache</code></td></tr></tbody></table></div></div></div>
        5、安装
        <div id="highlighter_99051" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="#viewSource" title="查看代码" class="item viewSource" style="width: 16px; height: 16px;">查看代码</a><div class="item copyToClipboard"><embed width="16" height="16" id="highlighter_99051_clipboard" type="application/x-shockwave-flash" title="复制代码" allowscriptaccess="always" wmode="transparent" flashvars="highlighterId=highlighter_99051" menu="false" src="https://static.yezismile.com/syntaxhighlighter/scripts/clipboard.swf"></div><a href="#printSource" title="打印" class="item printSource" style="width: 16px; height: 16px;">打印</a><a href="#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="plain">make &amp;&amp; make install</code></td></tr></tbody></table></div></div></div>
        6、编译安装php7，会发现没有php.ini，没有php.ini文件可以去php源码包中拷贝过来一份，直接复制源码包中的php.ini-production<br>
        7、如果还有其他php版本存在，需要更改phpfpm的端口号，默认是9000，可以改成9001，或者9002<br>
        8、启动php命令
        <div id="highlighter_198045" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="#viewSource" title="查看代码" class="item viewSource" style="width: 16px; height: 16px;">查看代码</a><div class="item copyToClipboard"><embed width="16" height="16" id="highlighter_198045_clipboard" type="application/x-shockwave-flash" title="复制代码" allowscriptaccess="always" wmode="transparent" flashvars="highlighterId=highlighter_198045" menu="false" src="https://static.yezismile.com/syntaxhighlighter/scripts/clipboard.swf"></div><a href="#printSource" title="打印" class="item printSource" style="width: 16px; height: 16px;">打印</a><a href="#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="plain">/opt/php7/sbin/php-fpm</code></td></tr></tbody></table></div></div></div>
        9、以上php7安装完毕，接下来安装redis扩展，如下命令
        <div id="highlighter_258252" class="syntaxhighlighter  "><div class="bar       "><div class="toolbar"><a href="#viewSource" title="查看代码" class="item viewSource" style="width: 16px; height: 16px;">查看代码</a><div class="item copyToClipboard"><embed width="16" height="16" id="highlighter_258252_clipboard" type="application/x-shockwave-flash" title="复制代码" allowscriptaccess="always" wmode="transparent" flashvars="highlighterId=highlighter_258252" menu="false" src="https://static.yezismile.com/syntaxhighlighter/scripts/clipboard.swf"></div><a href="#printSource" title="打印" class="item printSource" style="width: 16px; height: 16px;">打印</a><a href="#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="plain">git clone https:</code><code class="comments">//github.com/nicolasff/phpredis</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>2</code></td><td class="content"><code class="plain">git checkout php7</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>3</code></td><td class="content"><code class="plain">/opt/php7/bin/phpize</code></td></tr></tbody></table></div><div class="line alt2"><table><tbody><tr><td class="number"><code>4</code></td><td class="content"><code class="plain">./configure --with-php-config=/opt/php7/bin/php-config</code></td></tr></tbody></table></div><div class="line alt1"><table><tbody><tr><td class="number"><code>5</code></td><td class="content"><code class="plain">make &amp;&amp; make install</code></td></tr></tbody></table></div></div></div>
        10、指定php配置文件的路径
        <div id="highlighter_460934" class="syntaxhighlighter  "><div class="bar"><div class="toolbar"><a href="#viewSource" title="查看代码" class="item viewSource" style="width: 16px; height: 16px;">查看代码</a><div class="item copyToClipboard"><embed width="16" height="16" id="highlighter_460934_clipboard" type="application/x-shockwave-flash" title="复制代码" allowscriptaccess="always" wmode="transparent" flashvars="highlighterId=highlighter_460934" menu="false" src="https://static.yezismile.com/syntaxhighlighter/scripts/clipboard.swf"></div><a href="#printSource" title="打印" class="item printSource" style="width: 16px; height: 16px;">打印</a><a href="#about" title="?" class="item about" style="width: 16px; height: 16px;">?</a></div></div><div class="lines"><div class="line alt1"><table><tbody><tr><td class="number"><code>1</code></td><td class="content"><code class="plain">/opt/php7/sbin/php-fpm -y /opt/php7/etc/php-fpm.conf -c /opt/php7/lib/php.ini</code></td></tr></tbody></table></div></div></div><p></p>
      </div>
    </div>

    <article-category></article-category>
  </div>
</template>

<script>
  import articleCategory from '~/components/article-category.vue'
  export default {
    components: {
      'article-category': articleCategory,
    },
    data() {
      return {

      }
    },
    methods: {},
    created() {

    },
    mounted() {

    }
  }
</script>

<style lang="scss">
  .article-wrap {
    @include centerBox(center,flex-start);
    .article-detail {
      padding: 20px 0;
      flex: 1;
      h3.article-title {
        font-size: 24px;
        font-weight: 400;
        padding: 20px 0;
        color: #38485A;
      }
    }
  }
</style>
